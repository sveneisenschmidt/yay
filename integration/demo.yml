integration:
    levels: []

    actions:
        demo-action:
            label: Demo action label
            description: Demo actions description

    achievements:
        demo-achievement-01:
            label: Demo achievement label
            description: Demo achievement description
            points: 50
            actions: [demo-action]
        demo-achievement-02:
            label: Demo achievement label
            description: Demo achievement description
            points: 100
            actions: [demo-action]

    webhooks:
        incoming:
            # Chains multiple transformers
            demo-chain:
                type: chain
                arguments:
                    - demo-chain
                    - [demo-github, demo-user]
            # Maps github events to actions
            demo-github:
                class: \Yay\Component\Webhook\Incoming\GithubProcessor
                arguments:
                    - demo-github
                    - {
                        'pull_request.opened': demo.action
                    }
            # Maps github events to actions
            demo-user:
                class: \Yay\Component\Webhook\Incoming\StaticUserProcessor
                arguments:
                    - demo-user
                    - {
                        octocat: jane.doe
                    }

    validators:
        # Grants achviement 'demo-achievement-01' if action `demo-action`
        # has been performed by the player 5 times.
        demo-achievement-validator-01:
            type: expression
            arguments:
                - "achievement.getName() in ['demo-achievement-01'] and actions.count() >= 5"
        # Grants achviement 'demo-achievement-01' if action `demo-action`
        # has been performed by the player 10 times.
        demo-achievement-validator-02:
            type: expression
            arguments:
                - "achievement.getName() in ['demo-achievement-02'] and actions.count() >= 10"
