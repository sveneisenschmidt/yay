parameters: ~

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    App\Engine\Command\:
        resource: '../../Command'
        tags: ['console.command']

    App\Engine\EventListener\:
        resource: '../../EventListener'
        tags:
            - { name: kernel.event_listener, event: yay.engine.pre_save, method: onPreSave }
            - { name: kernel.event_listener, event: yay.engine.post_save, method: onPostSave }
            - { name: kernel.event_listener, event: yay.engine.grant_achievement, method: onGrantAchievement }

    Component\Engine\Engine: { public: true }
    Component\Engine\Storage\DoctrineStorage: ["@=service('doctrine').getManager()"]
    Component\Engine\StorageInterface: '@Component\Engine\Storage\DoctrineStorage'
    Component\Engine\AchievementValidatorCollection: ~ 

